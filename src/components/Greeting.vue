<template>
  <section
      class="page-section layout-engine-section background-width--full-bleed section-height--custom horizontal-alignment--center vertical-alignment--bottom has-background white"
      style="min-height: 10vh; padding-top: 122.71875px;"
  >
    <div class="section-background">
      <img alt=""
           ref="bgMountains"
           srcset="https://images.squarespace-cdn.com/content/v1/6078a567cd564058f99c3281/1621927279745-7QH1DOS5VMDG4AEAVS2T/ke17ZwdGBToddI8pDm48kNvT88LknE-K9M4pGNO0Iqd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UbeDbaZv1s3QfpIA4TYnL5Qao8BosUKjCVjCf8TKewJIH3bqxw7fF48mhrq5Ulr0Hg/Bg-Mountains.png?format=100w 100w,https://images.squarespace-cdn.com/content/v1/6078a567cd564058f99c3281/1621927279745-7QH1DOS5VMDG4AEAVS2T/ke17ZwdGBToddI8pDm48kNvT88LknE-K9M4pGNO0Iqd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UbeDbaZv1s3QfpIA4TYnL5Qao8BosUKjCVjCf8TKewJIH3bqxw7fF48mhrq5Ulr0Hg/Bg-Mountains.png?format=300w 300w,https://images.squarespace-cdn.com/content/v1/6078a567cd564058f99c3281/1621927279745-7QH1DOS5VMDG4AEAVS2T/ke17ZwdGBToddI8pDm48kNvT88LknE-K9M4pGNO0Iqd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UbeDbaZv1s3QfpIA4TYnL5Qao8BosUKjCVjCf8TKewJIH3bqxw7fF48mhrq5Ulr0Hg/Bg-Mountains.png?format=500w 500w,https://images.squarespace-cdn.com/content/v1/6078a567cd564058f99c3281/1621927279745-7QH1DOS5VMDG4AEAVS2T/ke17ZwdGBToddI8pDm48kNvT88LknE-K9M4pGNO0Iqd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UbeDbaZv1s3QfpIA4TYnL5Qao8BosUKjCVjCf8TKewJIH3bqxw7fF48mhrq5Ulr0Hg/Bg-Mountains.png?format=750w 750w,https://images.squarespace-cdn.com/content/v1/6078a567cd564058f99c3281/1621927279745-7QH1DOS5VMDG4AEAVS2T/ke17ZwdGBToddI8pDm48kNvT88LknE-K9M4pGNO0Iqd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UbeDbaZv1s3QfpIA4TYnL5Qao8BosUKjCVjCf8TKewJIH3bqxw7fF48mhrq5Ulr0Hg/Bg-Mountains.png?format=1000w 1000w,https://images.squarespace-cdn.com/content/v1/6078a567cd564058f99c3281/1621927279745-7QH1DOS5VMDG4AEAVS2T/ke17ZwdGBToddI8pDm48kNvT88LknE-K9M4pGNO0Iqd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UbeDbaZv1s3QfpIA4TYnL5Qao8BosUKjCVjCf8TKewJIH3bqxw7fF48mhrq5Ulr0Hg/Bg-Mountains.png?format=1500w 1500w,https://images.squarespace-cdn.com/content/v1/6078a567cd564058f99c3281/1621927279745-7QH1DOS5VMDG4AEAVS2T/ke17ZwdGBToddI8pDm48kNvT88LknE-K9M4pGNO0Iqd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UbeDbaZv1s3QfpIA4TYnL5Qao8BosUKjCVjCf8TKewJIH3bqxw7fF48mhrq5Ulr0Hg/Bg-Mountains.png?format=original"
           sizes="100vw"
           style="object-position: 50%; width: 100%; height: 100%; object-fit: cover;"
      >
      <div class="section-background-overlay" style="opacity: 0;"></div>
    </div>
    <div class="content-wrapper" style="padding-top: calc(10vmax / 5);">
      <div class="content" style="width: 98%;">
        <div class="sqs-layout sqs-grid-12 columns-12"
             id="page-section-6078a56acd564058f99c334e">
          <div class="row sqs-row">
            <div class="col sqs-col-12 span-12">
              <div class="sqs-block html-block sqs-block-html">
                <div class="sqs-block-content">
                  <h3 style="text-align:center;white-space:pre-wrap;"><strong>{{ data.welcome }}</strong></h3>
                </div>
              </div>
              <div class="sqs-block image-block sqs-block-image sqs-text-ready">
                <div class="sqs-block-content">
                  <div
                      class="image-block-outer-wrapper layout-caption-below design-layout-inline combination-animation-site-default individual-animation-site-default individual-text-animation-site-default animation-loaded"
                  >
                    <figure class=" sqs-block-image-figure intrinsic " style="max-width:1448px;"
                    >
                      <div style="padding-bottom: 36.236236572265625%; overflow: hidden;"
                           class=" image-block-wrapper  has-aspect-ratio "
                      >
                        <noscript>&lt;img
                          src="https://images.squarespace-cdn.com/content/v1/6078a567cd564058f99c3281/1623757211914-7BSPCYIWPM0EPXBU2HM6/ke17ZwdGBToddI8pDm48kD0qsoJjXsd2g-l2sy5F9QcUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKcQiroJt_GWnYQ2OPrSA9mXlglsFGOTzJqh6sz62BU3SuPPX9cJVPQnl_o8GtNHV-L/yeti_family_homepage-05-05.png"
                          alt="yeti_family_homepage-05-05.png" /&gt;
                        </noscript>
                        <img class="thumb-image loaded"
                             alt="yeti_family_homepage-05-05.png"
                             :src="data.herosImage"
                             style="left: -1.816067275004471%; top: 0%; width: 103.63213455000894%; height: 100%; position: absolute;">
                      </div>
                    </figure>
                  </div>
                </div>
              </div>
              <div class="sqs-block html-block sqs-block-html">
                <div class="sqs-block-content">
                  <h4 style="text-align:center;white-space:pre-wrap;">
                    {{ data.spec }}
                  </h4>
                </div>
              </div>
              <div class="sqs-block button-block sqs-block-button">
                <div class="sqs-block-content">
                  <div class="sqs-block-button-container--center"
                  >
                    <a :href="data.button.link"
                       class="sqs-block-button-element--medium sqs-block-button-element">{{ data.button.text }}</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>
<script>
export default {
  props: ['data'],
  mounted() {
    this.positionImage(this.$refs.bgMountains);
    this.$refs.bgMountains.classList.add('loaded');
  },
  methods: {
    positionImage: function (imageEl) {
      var imageDimensions = imageEl.dataset.imageDimensions.split('x');
      var originalWidth = imageDimensions[0];
      var originalHeight = imageDimensions[1];
      var focalPoint = imageEl.dataset.imageFocalPoint.split(',');
      var focalPointX = focalPoint[0];
      var focalPointY = focalPoint[1];
      var parentNode = imageEl.parentNode;
      var scale = function () {
        var imageRatio = originalWidth / originalHeight;
        var parentClientSize = {
          height: parentNode.clientHeight,
          width: parentNode.clientWidth
        };
        var parentRatio = parentClientSize.width / parentClientSize.height;
        if (imageRatio > parentRatio) {
          return parentClientSize.height / originalHeight;
        }
        return parentClientSize.width / originalWidth;
      }();
      var getRelativeOffset = function getRelativeOffset() {
        var targetWidth = Math.ceil(originalWidth * scale);
        var targetHeight = Math.ceil(originalHeight * scale);
        var parentDimensionWidth = parentNode.offsetWidth;
        var parentDimensionHeight = parentNode.offsetHeight;
        var overflowWidth = targetWidth - parentDimensionWidth;
        var overflowHeight = targetHeight - parentDimensionHeight;
        var valueX;
        if (overflowWidth === 0) {
          valueX = focalPointX;
        } else {
          valueX = Math.max(Math.min(targetWidth * focalPointX - parentDimensionWidth * 0.5, overflowWidth), 0) / overflowWidth;
        }
        var valueY;
        if (overflowHeight === 0) {
          valueY = focalPointY;
        } else {
          valueY = Math.max(Math.min(targetHeight * focalPointY - parentDimensionHeight * 0.5, overflowHeight), 0) / overflowHeight;
        }
        return {
          valueX: valueX,
          valueY: valueY
        };
      };
      var relativeOffset = getRelativeOffset();
      var valueX = relativeOffset.valueX;
      var valueY = relativeOffset.valueY;
      imageEl.style.objectPosition = "".concat(valueX * 100, "% ").concat(valueY * 100, "%");
    }
  },
  name: "Greeting"
}
</script>
<style scoped>
</style>